<div id="file_navigate">
    <span class="location_select" onclick="composeFileList('')">Home</span>
    {% for full_segment, segment in paths %}
    /
    <span class="location_select" onclick="composeFileList('{{ full_segment }}')">{{ segment }}</span>
    {% endfor %}
</div>
<table id="file_list">
    <thead>
        <tr>
            <th class="file_icon"></th>
            <th class="file_name">Name</th>
            <th class="file_size">Size</th>
        </tr>
    </thead>
    <tbody>
        {% for file_name, file_metadata in files.items() %}
        {% if anchor_navigation %}
        {% set onclick_func = "window.location.hash = '" + file_metadata.path + "';" %}
        {% else %}
        {% set onclick_func = "composeFileList('" + file_metadata.path + "');" %}
        {% endif %}
        {% if file_metadata.type == 'dir' %}
        <tr class="file_select" onclick="{{ onclick_func }}">
        {% else %}
        <tr class="file_select">
        {% endif %}
            <td class="file_icon">
                <img src="{{ url_for('static', filename=file_metadata.icon + '.png') }}"
                alt="{{ file_metadata.icon }}.png" />
            </td>
            <td class="file_name">
                <span>{{ file_name }}</span>
            </td>
            <td class="file_size">
                <span>{{ file_metadata.size }}</span>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>